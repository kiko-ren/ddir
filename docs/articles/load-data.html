<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ddir">
<title>Load compound-specific data â€¢ ddir</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Load compound-specific data">
<meta property="og:description" content="ddir">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ddir</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.13.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/load-data.html">Load compound-specific data</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Load compound-specific data</h1>
            
      
      
      <div class="d-none name"><code>load-data.Rmd</code></div>
    </div>

    
    
<p>This vignette describes how the compound-specific data can be
provided for the calculation of the DDI pepetrator risk.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">ddir</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="drug-properties">Drug properties<a class="anchor" aria-label="anchor" href="#drug-properties"></a>
</h2>
<p>All functions of the <code>ddir</code> package that evaluate the
different DDI risks expect as their first argument a
<code>perpetrator</code> object that contains all compound properties
needed to calculate the relevant perpetrator concentrations.</p>
<p>The following parameters are needed:</p>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>PARAM</th>
<th>REQUIREMENT</th>
<th>DESCRIPTION</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>name</td>
<td>required</td>
<td>The name of the compound</td>
</tr>
<tr class="even">
<td>oral</td>
<td>required</td>
<td>Logical value (<code>TRUE</code> or <code>FALSE</code>) to indicate
whether the compound is administered orally</td>
</tr>
<tr class="odd">
<td>mw</td>
<td>required</td>
<td>molar weight in g/mol</td>
</tr>
<tr class="even">
<td>dose</td>
<td>required for oral compounds</td>
<td>clinical dose in mg</td>
</tr>
<tr class="odd">
<td>imaxss</td>
<td>required</td>
<td>total Cmax in ng/ml</td>
</tr>
<tr class="even">
<td>fu</td>
<td>optional</td>
<td>fraction unbound, default is 1</td>
</tr>
<tr class="odd">
<td>fumic</td>
<td>optional</td>
<td>microsomal unbound fraction, dafault is 1</td>
</tr>
<tr class="even">
<td>rb</td>
<td>optional</td>
<td>blood-to-plasma concentration ratio, default is 1</td>
</tr>
<tr class="odd">
<td>fa</td>
<td>optional</td>
<td>fraction absorbed, default is 1</td>
</tr>
<tr class="even">
<td>fg</td>
<td>optional</td>
<td>fraction escaping gut metabolism, default is 1</td>
</tr>
<tr class="odd">
<td>ka</td>
<td>optional</td>
<td>absorption rate constant, default is 0.1 /min</td>
</tr>
<tr class="even">
<td>solubility</td>
<td>optional</td>
<td>solubility of the compound in mg/l, defaults to
<code>Inf</code>
</td>
</tr>
</tbody>
</table>
<div class="section level3">
<h3 id="input-as-data-frame">Input as data frame<a class="anchor" aria-label="anchor" href="#input-as-data-frame"></a>
</h3>
<p>As the most basic option, the compound property data can be
hard-coded into a R script as a data frame and then converted into a
perpetrator object. The constructor function for perpetrator objects
expects all values to be of character type:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">parent_data_frame</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"oral"</span>, <span class="st">"mw"</span>, <span class="st">"dose"</span>, <span class="st">"imaxss"</span><span class="op">)</span>,</span>
<span>  value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"examplinib"</span>, <span class="st">"TRUE"</span>, <span class="st">"492.6"</span>, <span class="st">"450"</span>, <span class="st">"3530"</span><span class="op">)</span>,</span>
<span>  source <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">parent</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_perpetrator.html">new_perpetrator</a></span><span class="op">(</span><span class="va">parent_data_frame</span><span class="op">)</span></span>
<span><span class="va">parent</span></span>
<span><span class="co">#&gt; == DDI perpetrator object ==</span></span>
<span><span class="co">#&gt; name         examplinib             </span></span>
<span><span class="co">#&gt; oral         TRUE                   </span></span>
<span><span class="co">#&gt; mw           492.6                  </span></span>
<span><span class="co">#&gt; dose         450                    </span></span>
<span><span class="co">#&gt; imaxss       3530                   </span></span>
<span><span class="co">#&gt; fu           1            default   </span></span>
<span><span class="co">#&gt; fumic        1            default   </span></span>
<span><span class="co">#&gt; rb           1            default   </span></span>
<span><span class="co">#&gt; fa           1            default   </span></span>
<span><span class="co">#&gt; fg           1            default   </span></span>
<span><span class="co">#&gt; ka           0.1          default   </span></span>
<span><span class="co">#&gt; solubility   Inf          default</span></span></code></pre></div>
<p>Note that in the above code, only the strictly required fields were
provided, the other fields were automatically set to their respective
default values.</p>
</div>
<div class="section level3">
<h3 id="input-as-tribble">Input as tribble<a class="anchor" aria-label="anchor" href="#input-as-tribble"></a>
</h3>
<p>The <code>tibble</code> package that is included in the
<code>tidyverse</code> meta-package provides a very convenient function,
[tribble()], to construct data frames in a row-wise fashion:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">parent_tribble</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">param</span>,   <span class="op">~</span><span class="va">value</span>,       <span class="op">~</span><span class="va">source</span>,</span>
<span>  <span class="st">"name"</span>,   <span class="st">"examplinib"</span>, <span class="st">""</span>,</span>
<span>  <span class="st">"oral"</span>,   <span class="st">"TRUE"</span>,       <span class="st">""</span>,</span>
<span>  <span class="st">"mw"</span>,     <span class="st">"492.6"</span>,     <span class="st">""</span>,</span>
<span>  <span class="st">"dose"</span>,   <span class="st">"450"</span>,        <span class="st">""</span>,</span>
<span>  <span class="st">"imaxss"</span>, <span class="st">"3530"</span>,       <span class="st">""</span> </span>
<span><span class="op">)</span></span>
<span><span class="va">parent</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_perpetrator.html">new_perpetrator</a></span><span class="op">(</span><span class="va">parent_tribble</span><span class="op">)</span></span>
<span><span class="va">parent</span></span>
<span><span class="co">#&gt; == DDI perpetrator object ==</span></span>
<span><span class="co">#&gt; name         examplinib             </span></span>
<span><span class="co">#&gt; oral         TRUE                   </span></span>
<span><span class="co">#&gt; mw           492.6                  </span></span>
<span><span class="co">#&gt; dose         450                    </span></span>
<span><span class="co">#&gt; imaxss       3530                   </span></span>
<span><span class="co">#&gt; fu           1            default   </span></span>
<span><span class="co">#&gt; fumic        1            default   </span></span>
<span><span class="co">#&gt; rb           1            default   </span></span>
<span><span class="co">#&gt; fa           1            default   </span></span>
<span><span class="co">#&gt; fg           1            default   </span></span>
<span><span class="co">#&gt; ka           0.1          default   </span></span>
<span><span class="co">#&gt; solubility   Inf          default</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="read-from-a-csv-file">Read from a csv file<a class="anchor" aria-label="anchor" href="#read-from-a-csv-file"></a>
</h3>
<p>Alternatively, the data can also be provided as comma-separated
values (csv) in an external data file and read using
<code><a href="../reference/read_perpetrators.html">read_perpetrators()</a></code>. The csv file
â€˜examplinib_compounds_single.csvâ€™ is provided for demonstration purposes
as part of this package:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">parent_perpetrator</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_perpetrators.html">read_perpetrators</a></span><span class="op">(</span></span>
<span>  <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path_package.html" class="external-link">path_package</a></span><span class="op">(</span><span class="st">"extdata/examplinib_compounds_single.csv"</span>, package <span class="op">=</span> <span class="st">"ddir"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">parent_perpetrator</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="read-from-a-data-chunk-within-an-r-notebook">Read from a data chunk within an R notebook<a class="anchor" aria-label="anchor" href="#read-from-a-data-chunk-within-an-r-notebook"></a>
</h3>
<p>When programming in an R notebook, which we highly recommend to keep
the data, the code and text blocks together in one document, the
compound properties can also be provided in a code chunk. This is a
feature introduced by the <code>knitrdata</code> package:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dmkaplan2000/knitrdata" class="external-link">knitrdata</a></span><span class="op">)</span></span></code></pre></div>
<p>Chunks with the type â€˜dataâ€™ will be assigned as is to the variable
provided by â€˜output.varâ€™:</p>
<pre class="data"><code># PARENT
# compound,  param,    value,     source
examplinib,  oral,     TRUE,
examplinib,  mw,       492.6,
examplinib,  dose,     450,       clinical dose
examplinib,  imaxss,   3530,      study 001
examplinib,  fu,       0.023,     study 002
examplinib,  fumic,    1,         default
examplinib,  rb,       1,         study 003
examplinib,  fa,       0.81,      study 003
examplinib,  fg,       1,         default
examplinib,  ka,       0.00267,   unknown

# METABOLITE 
# compound,  param,    value,     source
M1,          oral,     FALSE,
M1,          mw,       506.56,
M1,          dose,     NA,        
M1,          imaxss,   1038,      study 001
M1,          fu,       0.012,     study 002
-- 5 more lines of data ommitted --</code></pre>
<p>Like in the above example, this variable can then be used to create
perpetrator objects:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">compounds</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_perpetrators.html">read_perpetrators</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/textconnections.html" class="external-link">textConnection</a></span><span class="op">(</span><span class="va">compounds_text</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">compounds</span></span>
<span><span class="co">#&gt; $examplinib</span></span>
<span><span class="co">#&gt; == DDI perpetrator object ==</span></span>
<span><span class="co">#&gt; name         examplinib                   </span></span>
<span><span class="co">#&gt; oral         TRUE                         </span></span>
<span><span class="co">#&gt; mw           492.6                        </span></span>
<span><span class="co">#&gt; dose         450          clinical dose   </span></span>
<span><span class="co">#&gt; imaxss       3530         study 001       </span></span>
<span><span class="co">#&gt; fu           0.023        study 002       </span></span>
<span><span class="co">#&gt; fumic        1            default         </span></span>
<span><span class="co">#&gt; rb           1            study 003       </span></span>
<span><span class="co">#&gt; fa           0.81         study 003       </span></span>
<span><span class="co">#&gt; fg           1            default         </span></span>
<span><span class="co">#&gt; ka           0.00267      unknown         </span></span>
<span><span class="co">#&gt; solubility   Inf          default</span></span>
<span><span class="co">#&gt; $M1</span></span>
<span><span class="co">#&gt; == DDI perpetrator object ==</span></span>
<span><span class="co">#&gt; name         M1                   </span></span>
<span><span class="co">#&gt; oral         FALSE                </span></span>
<span><span class="co">#&gt; mw           506.56               </span></span>
<span><span class="co">#&gt; dose         NA                   </span></span>
<span><span class="co">#&gt; imaxss       1038     study 001   </span></span>
<span><span class="co">#&gt; fu           0.012    study 002   </span></span>
<span><span class="co">#&gt; fumic        1        default     </span></span>
<span><span class="co">#&gt; rb           1        study 002   </span></span>
<span><span class="co">#&gt; fa           NA                   </span></span>
<span><span class="co">#&gt; fg           NA                   </span></span>
<span><span class="co">#&gt; ka           NA                   </span></span>
<span><span class="co">#&gt; solubility   Inf      default</span></span></code></pre></div>
<p>Note that since the data is not in a file but in a character
variable, a <code><a href="https://rdrr.io/r/base/textconnections.html" class="external-link">textConnection()</a></code> construct must be used
here.</p>
<p>Also note that the above data chunk contains data for two different
compounds, â€˜examplinibâ€™ and â€˜M1â€™. The output of the
<code><a href="../reference/read_perpetrators.html">read_perpetrators()</a></code> function is therefore a list of
perpetrator objects.</p>
<p>You will find that the sample DDI report provided as part of the
<code>ddir</code> package uses this concept. Feel free to use this
report file and merely exchange the compound-specific data to create a
standard DDI report.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Rainer Strotmann.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
